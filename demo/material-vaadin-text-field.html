<dom-module id="material-vaadin-text-field">
  <template>
    <style>
      vaadin-text-field {
        position: relative;
        width: 160px;
        padding: 16px 0 8px;
        color: rgba(0, 0, 0, 0.87);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;

        /* Fix Chrome’s dancing labels */
        contain: content;

        --material-text-field__input: {
          outline: none;
          margin: 0;
          border: 0;
          border-radius: 0;
          padding: 8px 0 10px;
          width: 100%;
          height: 16px;
          font-family: Roboto, sans-serif;
          font-size: 16px;
          color: inherit;
          background-color: transparent;
          background-image: linear-gradient(#3F51B5, #3F51B5), linear-gradient(rgba(0, 0, 0, 0.12) 1px, transparent 1px);
          background-repeat: no-repeat;
          background-position: 50% 100%;

          /*
          -webkit-transition needed for Safari right now, but it’s fixed in
          Safari Technology Preview, so we can expect it to fix itself in the
          near future (Safari 10.2 most probably).
          */
          -webkit-transition: background-size 0.25s;
          transition: background-size 0.25s;

          /* Disable default invalid style in Firefox */
          box-shadow: none;
        };

        --vaadin-text-field__input: {
          @apply --material-text-field__input;
          background-size: 0% 2px, 100% 2px;
        };

        --vaadin-text-field__input-placeholder: {
          color: rgba(0, 0, 0, 0.38);
        };

        --material-text-field__label: {
          display: block;
          font-family: Roboto, sans-serif;
          font-size: 16px;
          line-height: 1;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          color: rgba(0, 0, 0, 0.38);
          transform-origin: 0 50%;
          transform: scale(0.75);
          width: 133%;

          -webkit-transition: transform 0.25s;
          transition: transform 0.25s;
        };

        --vaadin-text-field__label: {
          @apply --material-text-field__label;
        };
      }

      vaadin-text-field[focused] {
        --vaadin-text-field__input: {
          @apply --material-text-field__input;
          background-size: 100% 2px, 100% 2px;
        };

        --vaadin-text-field__label: {
          @apply --material-text-field__label;
          color: #3F51B5;
        };
      }

      vaadin-text-field[invalid] {
        --vaadin-text-field__input: {
          @apply --material-text-field__input;
          background-image: linear-gradient(#dd2c00, #dd2c00);
          background-size: 100% 2px;
        };

        --vaadin-text-field__label: {
          @apply --material-text-field__label;
          color: #dd2c00;;
        };
      }

      vaadin-text-field[disabled] {
        color: rgba(0, 0, 0, 0.38);

        --vaadin-text-field__input-placeholder: {
          opacity: 0.5;
        };

        --vaadin-text-field__input: {
          @apply --material-text-field__input;
          background-image: linear-gradient(90deg, rgba(0, 0, 0, 0.24) 0, rgba(0, 0, 0, 0) 2px);
          background-size: 4px 1px;
          background-repeat: repeat-x;
        };
      }

      vaadin-text-field:not([has-value]):not([placeholder]) {
        --vaadin-text-field__label: {
          @apply --material-text-field__label;
          transform: scale(1) translateY(calc(16px + 50%));
          width: 100%;
          pointer-events: none;
        };
      }
    </style>
  </template>
</dom-module>
